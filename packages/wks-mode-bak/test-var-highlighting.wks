# Test file for :var macro and user variable interpolation highlighting

# Test 1: :var macro declarations
:var "greeting" "hello"
:var "my_var" "test value"
:var "app_name" "MyApp"
:var "special key" "hello world!"

# Test 2: User variable interpolations in commands
a "Test greeting" %{{echo %(greeting)}}
b "Test my_var" %{{echo %(my_var)}}
c "Multiple vars" %{{echo %(greeting) %(my_var) %(app_name)}}

# Test 3: User variable interpolations in descriptions
d "%(app_name) Test" %{{echo test}}
e "%(greeting) from %(app_name)" %{{notify-send "%(my_var)"}}

# Test 4: Mixed builtin and user variable interpolations
[xyz] "Item %(index+1) - %(key)" %{{echo %(greeting) for %(desc)}}

# Test 5: Builtin interpolations should still work
f "Builtin key" %{{echo %(key)}}
g "Builtin desc" %{{echo %(desc)}}
[abc] "Builtin array %(index+1)" %{{echo Item %(key): %(desc)}}

# Test 6: Edge cases
h "With spaces %(special key)" %{{echo %(special key)}}
i "Empty var name test" %{{echo %()}}

# Test 7: Complex nesting
j "Complex" {
    :var "nested_var" "nested value"
    k "Nested chord" %{{echo %(nested_var) and %(greeting)}}
}
